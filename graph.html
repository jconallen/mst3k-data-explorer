<!DOCTYPE html>
<html lang="en">

<head>
    <title>Vis Network | Events | Interaction events</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/todc-bootstrap/3.3.7-3.3.13/js/bootstrap.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-modal/2.2.6/js/bootstrap-modalmanager.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js" type="text/javascript"></script>

    <style type="text/css">
        #mynetwork {
            width: 1200px;
            height: 800px;
            border: 1px solid lightgray;
        }
    </style>

</head>

<body>

    <div class="container">

        <p>
            Create a simple network with some nodes and edges. Some of the events are
            logged in the console in improve readability.
        </p>

        <div id="progress" class="container">
            <div class="row">
                <div class="col-sm-3">
                    <div class="progress">
                        <div id="progressBar" class="progress-bar" role="progressbar"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container" id="mynetwork"></div>

    </div>

    <div class="container">
        <h2 id="eventSpanHeading"></h2>
        <pre id="eventSpanContent"></pre>

    </div>


    <script type="text/javascript">
        // create an array with nodes

        var nodes;
        var edges;

        $( document ).ready(function() {

            $.ajax({
		       url: "data/nodes.json",
		       dataType: 'json',
		       success: function(data){
                nodes = new vis.DataSet(data);
               },
		       crossDomain:true
		    });

            $.ajax({
		       url: "data/edges.json",
		       dataType: 'json',
		       success: function(data){
                edges = new vis.DataSet(data);
               },
		       crossDomain:true
		    });

            var container = document.getElementById("mynetwork");
            var data = {
                nodes: nodes,
                edges: edges,
            };

            var options = {
            interaction: { hover: true },
            manipulation: {
                enabled: false,
            },
        };

        var network = new vis.Network(container, data, options);

        network.on("stabilizationProgress", function (params) {
            //   var maxWidth = 496;
            //   var minWidth = 20;
            var widthFactor = params.iterations / params.total * 100;
            //   var width = Math.max(minWidth, maxWidth * widthFactor);

            $("#progressBar")
                .css("width", widthFactor + "%")
                .attr("aria-valuenow", widthFactor)
                .text(widthFactor + "%");

            //   document.getElementById("bar").style.width = width + "px";
            //   document.getElementById("text").innerText =
            //     Math.round(widthFactor * 100) + "%";
        });

        network.once("stabilizationIterationsDone", function () {
            $("#progressBar")
                .css("width", "100%")
                .attr("aria-valuenow", 100)
                .text("100% progress");

            // really clean the dom element
            setTimeout(function () {
                $('#progressBar').addClass('.d-none');
                console.log("hiding")
            }, 1000);
        });

        network.on("click", function (params) {
            params.event = "[original event]";
            document.getElementById("eventSpanHeading").innerText = "Click event:";
            document.getElementById("eventSpanContent").innerText = JSON.stringify(
                params,
                null,
                4
            );
            console.log(
                "click event, getNodeAt returns: " +
                this.getNodeAt(params.pointer.DOM)
            );
        });
            
            // var params = (new URL(document.location)).searchParams;
            // var src = params.get("src");
            // var mem = params.get("mem");
            // if( mem ) {
            //     $('#sizeMainMemory').val(mem);
            //     createVM();
            // }
            // if( src ) {
            //     loadSample(src);
            // }
            // updateDisplay();
        });

        // var nodes = new vis.DataSet(

        // );

        // // create an array with edges
        // var edges = new vis.DataSet(

        // );

        // create a network


        

        // network.on("doubleClick", function (params) {
        //     params.event = "[original event]";
        //     document.getElementById("eventSpanHeading").innerText =
        //         "doubleClick event:";
        //     document.getElementById("eventSpanContent").innerText = JSON.stringify(
        //         params,
        //         null,
        //         4
        //     );
        // });
        // network.on("oncontext", function (params) {
        //     params.event = "[original event]";
        //     document.getElementById("eventSpanHeading").innerText =
        //         "oncontext (right click) event:";
        //     document.getElementById("eventSpanContent").innerText = JSON.stringify(
        //         params,
        //         null,
        //         4
        //     );
        // });
        // network.on("dragStart", function (params) {
        //     // There's no point in displaying this event on screen, it gets immediately overwritten
        //     params.event = "[original event]";
        //     console.log("dragStart Event:", params);
        //     console.log(
        //         "dragStart event, getNodeAt returns: " +
        //         this.getNodeAt(params.pointer.DOM)
        //     );
        // });
        // network.on("dragging", function (params) {
        //     params.event = "[original event]";
        //     document.getElementById("eventSpanHeading").innerText =
        //         "dragging event:";
        //     document.getElementById("eventSpanContent").innerText = JSON.stringify(
        //         params,
        //         null,
        //         4
        //     );
        // });
        // network.on("dragEnd", function (params) {
        //     params.event = "[original event]";
        //     document.getElementById("eventSpanHeading").innerText =
        //         "dragEnd event:";
        //     document.getElementById("eventSpanContent").innerText = JSON.stringify(
        //         params,
        //         null,
        //         4
        //     );
        //     console.log("dragEnd Event:", params);
        //     console.log(
        //         "dragEnd event, getNodeAt returns: " +
        //         this.getNodeAt(params.pointer.DOM)
        //     );
        // });
        // network.on("controlNodeDragging", function (params) {
        //     params.event = "[original event]";
        //     document.getElementById("eventSpanHeading").innerText =
        //         "control node dragging event:";
        //     document.getElementById("eventSpanContent").innerText = JSON.stringify(
        //         params,
        //         null,
        //         4
        //     );
        // });
        // network.on("controlNodeDragEnd", function (params) {
        //     params.event = "[original event]";
        //     document.getElementById("eventSpanHeading").innerText =
        //         "control node drag end event:";
        //     document.getElementById("eventSpanContent").innerText = JSON.stringify(
        //         params,
        //         null,
        //         4
        //     );
        //     console.log("controlNodeDragEnd Event:", params);
        // });
        // network.on("zoom", function (params) {
        //     document.getElementById("eventSpanHeading").innerText = "zoom event:";
        //     document.getElementById("eventSpanContent").innerText = JSON.stringify(
        //         params,
        //         null,
        //         4
        //     );
        // });
        // network.on("showPopup", function (params) {
        //     document.getElementById("eventSpanHeading").innerText =
        //         "showPopup event: ";
        //     document.getElementById("eventSpanContent").innerText = JSON.stringify(
        //         params,
        //         null,
        //         4
        //     );
        // });
        // network.on("hidePopup", function () {
        //     console.log("hidePopup Event");
        // });
        // network.on("select", function (params) {
        //     console.log("select Event:", params);
        // });
        // network.on("selectNode", function (params) {
        //     console.log("selectNode Event:", params);
        // });
        // network.on("selectEdge", function (params) {
        //     console.log("selectEdge Event:", params);
        // });
        // network.on("deselectNode", function (params) {
        //     console.log("deselectNode Event:", params);
        // });
        // network.on("deselectEdge", function (params) {
        //     console.log("deselectEdge Event:", params);
        // });
        // network.on("hoverNode", function (params) {
        //     console.log("hoverNode Event:", params);
        // });
        // network.on("hoverEdge", function (params) {
        //     console.log("hoverEdge Event:", params);
        // });
        // network.on("blurNode", function (params) {
        //     console.log("blurNode Event:", params);
        // });
        // network.on("blurEdge", function (params) {
        //     console.log("blurEdge Event:", params);
        // });
    </script>
</body>

</html>